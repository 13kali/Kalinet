: $w POS @ BLK( + acc@ 0 DO
    BEGIN C@+ WS? UNTIL BEGIN C@+ WS? NOT UNTIL LOOP
    1- BLK( - 1023 MIN POS ! ;
: $W POS @ BLK( + acc@ 0 DO
    BEGIN C@- WS? UNTIL BEGIN C@- WS? NOT UNTIL LOOP
    1+ BLK( - DUP 0< IF DROP 0 THEN POS ! ;
: modeM EXECUTE ;
: handle ( c -- f )
    DUP '0' '9' =><= IF num 0 EXIT THEN
    DUP CMD 2+ C! CMD FIND IF MODE @ EXECUTE ELSE DROP THEN
    UPPER 'Q' = ;
: VE clrscr 0acc 0 POS ! ['] modeM MODE ! contents
    BEGIN status setpos KEY handle UNTIL 18 aty ;

